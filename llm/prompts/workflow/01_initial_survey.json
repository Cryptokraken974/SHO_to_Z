{
  "module_type": "workflow_step",
  "step_number": 1,
  "step_name": "Broad-Spectrum Anomaly Detection",
  "content": "Simultaneously examine all rasters derived from surface structure and topography: `lrm`, `svf`, `slope`, and `chm`. Use both sliding window (150×150) AND vector masks from the 'linear_candidate' prepass to flag possible features. For each detection:\n\n- Perform local segmentation using the raster where the anomaly is most distinct (e.g., ridge detection on `slope` for causeways).\n\n- Once the core feature is extracted, you **must grow the bounding box outward in all directions** until the **entire spatial extent of the feature is enclosed**, even if it exceeds the sliding window size.\n\n- Continue expanding the detection mask until topographic or spectral indicators (signature gradients) fall below a minimal threshold or until no further structure is visible.\n\n- Treat the full image canvas as valid — do not assume a fixed-size region. Use coordinates starting at (0,0) from the **top-left corner of the image**. Ensure x/y bounds match the full feature area, not the seed point.\n\n- From the final segmented mask, extract the true bounding box (`x_min`, `y_min`, `x_max`, `y_max`) that tightly encloses the entire detected feature, even if irregularly shaped or curving.\n\n- Ensure this process respects minimum size, shape ratios, and continuity constraints defined in the lexicon. Pass all spatially resolved detections into the next step for multi-layer documentation."
}