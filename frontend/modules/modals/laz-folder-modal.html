<!-- LAZ Folder Browser Modal -->
<style>
@keyframes pulse {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 51, 102, 0.7); }
  70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(255, 51, 102, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 51, 102, 0); }
}
</style>
<div id="laz-folder-modal" class="modal hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
  <div class="modal-content bg-[#1a1a1a] border border-[#303030] rounded-lg w-[90%] max-w-xl">
    <div class="modal-header flex justify-between items-center p-6 border-b border-[#303030]">
      <h3 class="text-white text-lg font-semibold">Browse for LAZ Folder</h3>
      <button class="modal-close text-[#ababab] hover:text-white text-xl font-bold" id="laz-folder-modal-close">&times;</button>
    </div>
    <div class="modal-body p-6">
      <div class="border-2 border-dashed border-[#404040] rounded-lg p-6 mb-4 text-center hover:border-[#5e60ce] transition-colors" id="laz-folder-drop-zone">
        <div class="text-[#ababab] mb-4">
          <i class="fas fa-folder-open text-4xl mb-2"></i>
          <p class="text-lg">Drop folders here or click to browse</p>
          <p class="text-sm mt-2">Only .laz files are counted</p>
        </div>
        <input type="file" id="laz-folder-input" webkitdirectory directory multiple class="hidden" />
        <button id="browse-laz-folder-btn" class="bg-[#5e60ce] hover:bg-[#4b4db8] text-white px-6 py-3 rounded-lg font-medium transition-colors">
          <i class="fas fa-folder-plus mr-2"></i>Browse Folder
        </button>
      </div>

      <div id="selected-laz-folders" class="mb-4">
        <h4 class="text-white font-medium mb-2">Selected Folders:</h4>
        <div id="laz-folders-list" class="space-y-2 max-h-[200px] overflow-y-auto">
          <div class="text-[#666] text-sm text-center py-4">No folders selected</div>
        </div>
      </div>

      <!-- NDVI Enable Option -->
      <div class="mb-4 bg-[#1a1a1a] border border-[#404040] rounded-lg p-4">
        <div class="flex items-center gap-3">
          <input type="checkbox" id="laz-folder-ndvi-enabled" class="w-5 h-5 text-[#00bfff] bg-[#262626] border-[#404040] rounded focus:ring-[#00bfff] focus:ring-2">
          <div>
            <label for="laz-folder-ndvi-enabled" class="text-white font-medium cursor-pointer">ðŸŒ¿ Enable NDVI Processing</label>
            <p class="text-[#ababab] text-sm mt-1">Generate NDVI rasters and vegetation analysis for all LAZ files in folder</p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer flex justify-between gap-3 p-6 border-t border-[#303030]">
      <button id="clear-laz-folders" class="bg-[#dc3545] hover:bg-[#c82333] text-white px-4 py-2 rounded-lg font-medium transition-colors">
        <i class="fas fa-trash mr-2"></i>Clear Folders
      </button>
      <div class="flex gap-3">
        <button id="cancel-laz-folder-modal" class="cancel-btn modal-close bg-[#666] hover:bg-[#555] text-white px-4 py-2 rounded-lg font-medium transition-colors">Cancel</button>
        <button id="done-laz-folder" class="bg-[#5e60ce] hover:bg-[#4b4db8] text-white px-6 py-2 rounded-lg font-medium transition-colors">Done</button>
      </div>
    </div>
  </div>
</div>
