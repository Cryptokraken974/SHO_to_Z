<div id="openai-analysis-tab" class="tab-content flex flex-1 overflow-hidden">
  <!-- Main Content Area -->
  <div class="flex-1 flex flex-col bg-[#141414] overflow-hidden">
    <!-- Header -->
    <div class="bg-[#1a1a1a] border-b border-[#303030] p-6">
      <h1 class="text-white text-2xl font-bold">ü§ñ OpenAI Analysis</h1>
      <p class="text-[#ababab] text-sm mt-2">AI-powered analysis of your terrain and satellite data</p>
    </div>

    <!-- Main Analysis Area -->
    <div class="flex-1 p-6 overflow-y-auto">
      <!-- Region Selection Section -->
      <div class="mb-6">
        <div class="mb-4">
          <label class="block text-white text-sm mb-2">Select Regions</label>
          <div class="flex gap-4">
            <div class="flex-1">
              <div class="text-[#ababab] text-sm mb-1">Available</div>
              <ul id="available-region-list" class="region-list"></ul>
            </div>
            <div class="flex flex-col justify-center gap-2">
              <button id="add-region-btn" class="bg-[#00bfff] hover:bg-[#0099cc] text-white px-2 py-1 rounded">&gt;&gt;</button>
              <button id="remove-region-btn" class="bg-[#dc3545] hover:bg-[#c82333] text-white px-2 py-1 rounded">&lt;&lt;</button>
            </div>
            <div class="flex-1">
              <div class="text-[#ababab] text-sm mb-1">Selected</div>
              <ul id="selected-region-list" class="region-list"></ul>
            </div>
          </div>
          <div id="selected-region-names" class="text-[#ababab] text-sm mt-2">No regions selected</div>
        </div>

        <!-- Container for dynamically loaded prompt parts -->
        <div id="dynamic-prompt-parts-container" class="space-y-4 my-4">
          <!-- Navigation Header -->
          <div class="flex items-center justify-between bg-[#1a1a1a] border border-[#303030] rounded-lg p-3">
            <button id="prompt-nav-prev" class="bg-[#404040] hover:bg-[#505050] text-white px-3 py-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              ‚Üê Previous
            </button>
            <div class="flex items-center space-x-2">
              <span id="prompt-counter" class="text-[#ababab] text-sm">0 / 0</span>
              <span id="prompt-title" class="text-white font-semibold">No prompts loaded</span>
            </div>
            <button id="prompt-nav-next" class="bg-[#404040] hover:bg-[#505050] text-white px-3 py-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              Next ‚Üí
            </button>
          </div>
          
          <!-- Prompt Content Area -->
          <div id="prompt-content-area" class="bg-[#1a1a1a] border border-[#303030] rounded-lg p-4">
            <textarea id="current-prompt-textarea" 
                      class="w-full bg-[#262626] border border-[#404040] rounded-lg px-3 py-2 text-white placeholder-[#ababab] resize-none focus:outline-none focus:border-[#00bfff] h-48"
                      placeholder="Loading prompt parts..."></textarea>
          </div>
        </div>

        <button id="send-to-openai" class="mt-2 bg-[#007bff] hover:bg-[#0056b3] text-white px-4 py-2 rounded font-medium transition-colors">Send to OpenAI</button>
      </div>

      <!-- Analysis Parameters -->
      <div class="mb-6">
        <div class="bg-[#1a1a1a] border border-[#303030] rounded-lg p-6">
          <h3 class="text-white text-lg font-semibold mb-4">‚öôÔ∏è Parameters</h3>
          <div class="space-y-4">
            <div>
              <label class="block text-white text-sm mb-2">Analysis Prompt</label>
              <textarea id="analysis-prompt"
                        class="w-full bg-[#262626] border border-[#404040] rounded-lg px-3 py-2 text-white placeholder-[#ababab] resize-none focus:outline-none focus:border-[#00bfff]"
                        rows="3"
                        placeholder="Describe what you want to analyze..."></textarea>
            </div>
            <div class="flex gap-4">
              <div class="flex-1">
                <label class="block text-white text-sm mb-2">Model</label>
                <select id="openai-model" class="w-full bg-[#262626] border border-[#404040] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-[#00bfff]">
                  <option value="gpt-4-vision-preview">GPT-4 Vision</option>
                  <option value="gpt-4o">GPT-4o</option>
                  <option value="gpt-4o-mini">GPT-4o Mini</option>
                </select>
              </div>
              <div class="flex-1">
                <label class="block text-white text-sm mb-2">Detail Level</label>
                <select id="detail-level" class="w-full bg-[#262626] border border-[#404040] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-[#00bfff]">
                  <option value="low">Low</option>
                  <option value="high" selected>High</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
