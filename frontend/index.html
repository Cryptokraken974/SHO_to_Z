<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Image Processing App</title>
  <link rel="stylesheet" href="/static/styles.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/static/app.js"></script>
</head>
<body>
  <div id="sidebar">
    <!-- LAZ File Selection Section -->
    <div class="accordion-section">
      <div class="accordion-header" id="laz-accordion">
        <h3>Select LAZ <span class="accordion-arrow">â–¼</span></h3>
      </div>
      <div class="accordion-content" id="laz-content">
        <div class="selected-file">
          <span id="selected-file-name">lion_takanawa.copc.laz</span>
          <button id="browse-files" class="browse-btn">Browse...</button>
        </div>
      </div>
    </div>

    <h3>Single Image Processing Steps</h3>
    <button class="proc-btn" data-target="laz_to_dem">LAZ to DEM</button>
    <button class="proc-btn" data-target="dtm">DTM</button>
    <button class="proc-btn" data-target="hillshade">Hillshade</button>
    <button class="proc-btn" data-target="slope">Slope</button>
    <button class="proc-btn" data-target="aspect">Aspect</button>
    <button class="proc-btn" data-target="color_relief">Color-relief</button>
    <button class="proc-btn" data-target="tri">TRI</button>
    <button class="proc-btn" data-target="tpi">TPI</button>
    <button class="proc-btn" data-target="roughness">Roughness</button>
  </div>

  <div id="main">
    <div id="grid">
      <div class="grid-cell" id="cell-laz_to_dem"><button class="proc-btn" data-target="laz_to_dem">LAZ to DEM</button></div>
      <div class="grid-cell" id="cell-dtm"><button class="proc-btn" data-target="dtm">DTM</button></div>
      <div class="grid-cell" id="cell-hillshade"><button class="proc-btn" data-target="hillshade">Hillshade</button></div>
      <div class="grid-cell" id="cell-slope"><button class="proc-btn" data-target="slope">Slope</button></div>
      <div class="grid-cell" id="cell-aspect"><button class="proc-btn" data-target="aspect">Aspect</button></div>
      <div class="grid-cell" id="cell-color_relief"><button class="proc-btn" data-target="color_relief">Color-relief</button></div>
      <div class="grid-cell" id="cell-tri"><button class="proc-btn" data-target="tri">TRI</button></div>
      <div class="grid-cell" id="cell-tpi"><button class="proc-btn" data-target="tpi">TPI</button></div>
      <div class="grid-cell" id="cell-roughness"><button class="proc-btn" data-target="roughness">Roughness</button></div>
      <div class="grid-cell" id="cell-tpi"><button class="proc-btn" data-target="tpi">TPI</button></div>
      <div class="grid-cell"></div>
    </div>
  </div>

  <div id="chatbar">
    <div id="chat-log"></div>
    <div id="chat-controls">
      <textarea id="chat-input" placeholder="Type a prompt..."></textarea>
      <select id="chat-model">
        <option value="o3">o3</option>
        <option value="4o">4o</option>
      </select>
      <button id="chat-send">Send</button>
    </div>
  </div>

  <!-- Modal for file selection -->
  <div id="file-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h4>Select LAZ File</h4>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <div class="file-search">
          <input type="text" id="file-search-input" placeholder="Search files...">
        </div>
        <div class="file-list" id="file-list">
          <!-- Files will be populated here -->
        </div>
      </div>
      <div class="modal-footer">
        <button id="select-file" class="select-btn">Select</button>
        <button id="cancel-select" class="cancel-btn">Cancel</button>
      </div>
    </div>
  </div>
</body>
</html>
